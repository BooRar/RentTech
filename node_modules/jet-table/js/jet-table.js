console.log("heloo ------------------------");
(function (define) {
    'use strict';

    (function (root, factory) {
        if (typeof define === 'function' && define.amd) {
            define(ResizerPanelLayout,factory);
        } else if (typeof exports === 'object') {
            module.exports = factory();
        } else {
            root.jetTable = factory();
        }
    }(window, function () {
        return (function () {

            var jetTable = function(){
                function jetTable(jsonInfo,rootElemnt,columnWidths)
                {

                    console.log("in the table constructor");
                    jetTable.doLayout(jsonInfo,rootElemnt,columnWidths);

                    //     <table class="table table-hover">
                    //     <thead>
                    //
                    //
                    //     <tr>
                    //         <th>Product</th>
                    //         <th>Cardinality</th>
                    //         <th>Price per item</th>
                    //     </tr>
                    //     </thead>
                    // <tbody>
                    //
                    //
                    //     <tr>
                    //         <td>Apple</td>
                    //         <td>5</td>
                    //         <td>$2</td>
                    //     </tr>
                    //     <tr>
                    //         <td>Pear</td>
                    //         <td>3</td>
                    //         <td>$3</td>
                    //     </tr>
                    //     <tr>
                    //         <td>Sausage</td>
                    //         <td>10</td>
                    //         <td>$0.5</td>
                    //     </tr>
                    //     <tr>
                    //         <td>Pineapple</td>
                    //         <td>2</td>
                    //         <td>$8</td>
                    //     </tr>
                    //     <tr>
                    //         <td>Tomato</td>
                    //         <td>5</td>
                    //         <td>$1</td>
                    //     </tr>
                    //     <tr>
                    //         <td>Lightsaber</td>
                    //         <td>2</td>
                    //         <td>$99 999</td>
                    //     </tr>
                    // </tbody>
                    // </table>
                }

                jetTable.constructTable = function(root)
                {
                    var rootElemnt = document.getElementById(root);
                    var tableEelment = document.createElement("table");
                    tableEelment.classList.add("table");
                    tableEelment.classList.add("table-hover");
                    rootElemnt.appendChild(tableEelment);
                    return tableEelment;
                }


                jetTable.addHeaderElemnets = function(root , theElementToAdd,columnWidths)
                {
                    console.log(root+"+++++++++++++++++____");
                    var thElement = document.createElement("th");
                    thElement.innerHTML =  theElementToAdd;
                    thElement.width = columnWidths+"%";
                    root.appendChild(thElement);

                }

                jetTable.constructHeader = function(jsonlistheadertitles, mytableElement,columnWidths)
                {
                    var headerElement= document.createElement("thead");
                    mytableElement.appendChild(headerElement);
                    var trElement = document.createElement("tr");
                    //trElement.setAttribute("id","this1");
                    headerElement.appendChild(trElement);

                    //var theRoot = document.getElementById("this1");
                    var theRoot = trElement;
                    for (var i = 0 ; i<jsonlistheadertitles.length ; i++)
                    {
                        //console.log("count "+jsonlistheadertitles[i]);
                        jetTable.addHeaderElemnets(theRoot,jsonlistheadertitles[i],columnWidths[i]);
                    }

                }
                jetTable.constructColumn= function(rowInfo,root)
                {
                    //    console.log(Object.keys(rowInfo).length);
                    //    var columnInfo = Object.keys(rowInfo);


                    for (var key in rowInfo) {
                        console.log(key, rowInfo[key]);
                        var tdElement = document.createElement('td');
                        tdElement.innerHTML = rowInfo[key];
                        root.appendChild(tdElement);
                    }

                }

                jetTable.constructRow = function(jsonElements, root )
                {
                    var  tbodyElement = document.createElement("tbody");
                    root.appendChild(tbodyElement);
                    for(var i =0 ; i<jsonElements.length ; i++)
                    {
                        var trElement = document.createElement("tr");

                        jetTable.constructColumn(jsonElements[i],trElement);
                        tbodyElement.appendChild(trElement);
                    }


                }

                jetTable.doLayout = function (jsonInfo,rootElemnt,columnWidths)
                {
                    var myTable = jetTable.constructTable(rootElemnt);
                    //    var jsonlistheadertitles = [ "there ","are ","three"];
                    //
                    //
                    //

                    var columnTitles = Object.keys(jsonInfo[0]);// using the first part of the array
                    var myHeader =jetTable.constructHeader(columnTitles,myTable,columnWidths);
// console.log("sssssssssssssssssssss");
// //console.log(jsonInfo.keys());
//
// console.log(Object.keys(jsonInfo[0]));
//
//
//
//
// console.log("sssssssssssssssssssss");
                //    console.log(jsonInfo);

                    var rows = jetTable.constructRow(jsonInfo,myTable);

                }


                return jetTable;

            }();

            return jetTable;



        }());
    }));
}(window.define));
